!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["fx-nbp"]=t():e["fx-nbp"]=t()}(this,(function(){return e={485:function(e){e.exports=(()=>{"use strict";var e={488:(e,t,r)=>{function n(e){let t;if(e instanceof Date?t=e:"string"==typeof e&&(t=new Date(e)),void 0!==t&&"Invalid Date"!==t.toString())return t;throw new Error("Invalid date")}r.r(t),r.d(t,{getHolidayOnDate:()=>i,getHolidaysInYear:()=>o,isHoliday:()=>s});const a=[{name:"New Year",namePL:"Nowy Rok",date:"01-01",type:"fixed"},{name:"Three Kings' Day",namePL:"Święto Trzech Króli",date:"01-06",type:"fixed"},{name:"Labour Day",namePL:"Święto Pracy",date:"05-01",type:"fixed"},{name:"3 May Constitution Day",namePL:"Narodowe Święto Konstytucji Trzeciego Maja",date:"05-03",type:"fixed"},{name:"Assumption of Mary",namePL:"Wniebowzięcie Najświętszej Maryi Panny",date:"08-15",type:"fixed"},{name:"All Saints' Day",namePL:"Wszystkich Świętych",date:"11-01",type:"fixed"},{name:"National Independence Day",namePL:"Narodowe Święto Niepodległości",date:"11-11",type:"fixed"},{name:"Christmas",namePL:"Boże Narodzenie",date:"12-25",type:"fixed"},{name:"Second Day of Christmas",namePL:"Boże Narodzenie - drugi dzień",date:"12-26",type:"fixed"},{name:"Easter Sunday",namePL:"Niedziela Wielkanocna",type:"movable",afterEaster:0},{name:"Easter Monday",namePL:"Poniedziałek Wielkanocny",type:"movable",afterEaster:1},{name:"Green Week",namePL:"Zielone Świątki",type:"movable",afterEaster:49},{name:"Feast of Corpus Christi",namePL:"Boże Ciało",type:"movable",afterEaster:60}];function o(e){const t=function(e){var t;"number"==typeof(t=e)&&isFinite(t)&&e>0&&(e=new Date(e.toString().padStart(4,"0")));try{return n(e)}catch(e){throw new Error("Invalid year")}}(e).getFullYear().toString().padStart(4,"0"),r=function(e){const t=e%19,r=Math.floor(e/100),n=e%100,a=Math.floor(r/4),o=r%4,i=Math.floor((r+8)/25),s=(19*t+r-a-Math.floor((r-i+1)/3)+15)%30,u=(32+2*o+2*Math.floor(n/4)-s-n%4)%7,c=s+u-7*Math.floor((t+11*s+22*u)/451)+114,d=e=>(e+"").padStart(2,"0"),f=d(c%31+1),p=d(Math.floor(c/31));return e=e.toString().padStart(4,"0"),new Date(`${e}-${p}-${f}`)}(parseInt(t));return a.map((e=>{let n;"fixed"===e.type?n=new Date(`${t}-${e.date}`):"movable"===e.type&&(n=new Date(function(e,t){const r=new Date(e);return r.setDate(r.getDate()+t),r}(r,e.afterEaster)));const{name:a,namePL:o}=e;return{name:a,namePL:o,date:n}})).sort(((e,t)=>e.date<t.date?-1:1))}function i(e){return o((e=n(e)).getFullYear()).find((t=>{return r=t.date,n=e,r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()&&r.getDate()===n.getDate();var r,n}))}function s(e){return void 0!==i(e=n(e))}}},t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(488)})()},53:(e,t,r)=>{const{canRequestRatesForDate:n}=r(38),{isCurrencySupported:a,getSupportedCurrencies:o}=r(642);e.exports={canRequestRatesForDate:n,isCurrencySupported:a,getSupportedCurrencies:o}},349:(e,t,r)=>{const{validateCurrencyCode:n,validateFXDate:a,adjustFXDate:o,validateDateRange:i,validateAmountOfRecords:s}=r(38),{formSingleRateResponse:u,formMultiRateResponse:c}=r(195),{performCall:d}=r(98);e.exports={getCurrentRate:async function(e){e=n(e);const t=await d(`rates/A/${e}`);return u(t)},getRateForDate:async function(e,t,r=!0){t=r?o(t):a(t),e=n(e);const i=await d(`rates/A/${e}/${t}`);return u(i)},getLastRates:async function(e,t=10){e=n(e),t=s(t);const r=await d(`rates/A/${e}/last/${t}`);return c(r)},getRatesBetweenDates:async function(e,[t,r]){e=n(e),[t,r]=i([t,r]);const a=await d(`rates/A/${e}/${t}/${r}`);return c(a)}}},785:(e,t,r)=>{const{validateDate:n,validateCurrencyCode:a,validateFXDate:o,adjustFXDate:i,validateDateRange:s,validateAmountOfRecords:u}=r(38),{formSingleTableResponse:c,formMultiTableResponse:d}=r(432),{performCall:f}=r(98);e.exports={getCurrentTable:async function(){const e=await f("tables/A");return c(e[0])},getTableForDate:async function(e,t=!0){e=t?i(e):o(e);const r=await f(`tables/A/${e}`);return c(r[0])},getLastTables:async function(e=10){e=u(e);const t=await f(`tables/A/last/${e}`);return d(t)},getTablesBetweenDates:async function([e,t]){[e,t]=s(e,t);const r=await f(`tables/A/${e}/${t}`);return d(r)}}},138:(e,t,r)=>{const{canRequestRatesForDate:n,isCurrencySupported:a,getSupportedCurrencies:o}=r(53),i=r(349),s=r(785),{FXNBPError:u,FXNBPDateError:c}=r(325);e.exports={canRequestRatesForDate:n,isCurrencySupported:a,getSupportedCurrencies:o,rates:i,tables:s,errors:{FXNBPError:u,FXNBPDateError:c}}},98:(e,t,r)=>{const{throwUnexpectedError:n}=r(325);e.exports={performCall:async function(e){const t=`http://api.nbp.pl/api/exchangerates/${e}`;try{return await async function(e){return(await fetch(e)).json()}(t)}catch(e){n(e)}}}},642:(e,t,r)=>{const n=r(465);function a(e){return e.toUpperCase().trim()}e.exports={formCurrencyCode:a,isCurrencySupported:function(e){return e=a(e),n.includes(e)},getSupportedCurrencies:function(){return[...n]}}},465:e=>{"use strict";e.exports=JSON.parse('["THB","USD","AUD","HKD","CAD","NZD","SGD","EUR","HUF","CHF","GBP","UAH","JPY","CZK","DKK","ISK","NOK","SEK","HRK","RON","BGN","TRY","ILS","CLP","PHP","MXN","ZAR","BRL","MYR","RUB","IDR","INR","KRW","CNY","XDR"]')},325:e=>{class t extends Error{constructor(e){super(e),this.name="FXNBPError"}}e.exports={FXNBPError:t,FXNBPDateError:class extends t{constructor(e){super(e),this.name="FXNBPDateError"}},throwUnexpectedError:function(e){throw console.warn("This error should not happen. Please open an issue at https://github.com/ngr900/fx-nbp/issues"),e}}},717:e=>{e.exports={addDays:function(e,t){const r=new Date(e);return r.setDate(r.getDate()+t),r},isSameDay:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},daysBetween:function(e,t){return Math.round((t-e)/864e5)},isNumber:function(e){return"number"==typeof e&&isFinite(e)},formFXDate:function(e){return e.toISOString().slice(0,10)}}},195:e=>{e.exports={formSingleRateResponse:function(e){return e.rates[0].mid},formMultiRateResponse:function(e){return e.rates.map((e=>({rate:e.mid,date:new Date(e.effectiveDate)})))}}},432:(e,t,r)=>{const{rates:n}=r(138);function a(e){return{number:e.no,date:new Date(e.effectiveDate),rates:e.rates.map((({code:e,mid:t})=>({code:e,rate:t})))}}e.exports={formSingleTableResponse:a,formMultiTableResponse:function(e){return e.map(a)}}},38:(e,t,r)=>{const{isNumber:n,daysBetween:a,addDays:o,formFXDate:i}=r(717),{formCurrencyCode:s,isCurrencySupported:u}=r(642),{FXNBPError:c,FXNBPDateError:d,throwUnexpectedError:f}=r(325),{isHoliday:p}=r(485);function l(e){let t;if(e instanceof Date)t=e;else if("string"==typeof e){const r="Z"===e[e.length-1]?e:e+"Z";t=new Date(r)}if(void 0!==t&&"Invalid Date"!==t.toString())return t;throw new d("Invalid date.")}function y(e){if((e=l(e))>new Date)throw new d("Requested date is in the future.");if([0,6].includes(e.getDay()))throw new d("Requested date is a Saturday or Sunday.");if(p(e))throw new d("Requested date is a public holiday in Poland.");return i(e)}function m(e){e=l(e);try{y(e)}catch(e){if(e instanceof d)return!1;f(e)}return!0}e.exports={validateDate:l,validateDateRange:function([e,t]){e=l(e),t=l(t);const r=new Date;if(e>t)throw new d("Requested date range is invalid.");if(e>r||t>r)throw new d("Requested date range starts or ends in the future.");if(a(e,t)>367)throw new d("Requested date range is longer than 367 days.");return[e,t].map((e=>i(e)))},validateAmountOfRecords:function(e){if(!n(e))throw new c("Requested amount is not a number.");if(e<0)throw new c("Requested amount is negative.");if(!Number.isInteger(e))throw new c("Requested amount is not an integer.");if(e>255)throw new c("Requested amount is larger than 255.");return e},validateFXDate:y,validateCurrencyCode:function(e){if(e=s(e),!u(e))throw new c("Currency not supported.");return e},canRequestRatesForDate:m,adjustFXDate:function(e){let t=m(e=l(e));for(;!t;)t=m(e=o(e,-1));return i(e)}}}},t={},function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(138);var e,t}));